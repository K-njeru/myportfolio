<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Carousel</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .carousel-inner {
            position: relative;
            overflow: hidden;
        }
        .carousel-item {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .carousel-card {
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
            text-align: center;
            position: relative;
            background: #f8f9fa;
        }
        .carousel-card .background {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-size: cover;
            background-position: center;
            z-index: -1;
        }
        .carousel-card h5 {
            margin: 10px 0;
            position: relative;
            z-index: 1;
        }
        @media (max-width: 991px) {
            .carousel-item {
                flex: 1 0 50%;
            }
        }
        @media (max-width: 767px) {
            .carousel-item {
                flex: 1 0 100%;
            }
            .carousel-inner {
                animation: slide 5s ease-in-out infinite;
            }
            .carousel-control-prev, .carousel-control-next {
                display: none;
            }
        }
        @keyframes slide {
            0% { transform: translateX(0); }
            50% { transform: translateX(-5%); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>

<div id="carouselLarge" class="carousel slide d-none d-md-block">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <div class="row">
                <!-- Large screens: 4 cards per carousel -->
                <div class="col-md-3">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/3184292/pexels-photo-3184292.jpeg", "https://images.pexels.com/photos/1396135/pexels-photo-1396135.jpeg", "https://images.pexels.com/photos/1194775/pexels-photo-1194775.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project1" target="_blank">Project 1</a></h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/1170981/pexels-photo-1170981.jpeg", "https://images.pexels.com/photos/1467951/pexels-photo-1467951.jpeg", "https://images.pexels.com/photos/1481781/pexels-photo-1481781.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project2" target="_blank">Project 2</a></h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/280204/pexels-photo-280204.jpeg", "https://images.pexels.com/photos/1205047/pexels-photo-1205047.jpeg", "https://images.pexels.com/photos/1031813/pexels-photo-1031813.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project3" target="_blank">Project 3</a></h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/3785748/pexels-photo-3785748.jpeg", "https://images.pexels.com/photos/3124167/pexels-photo-3124167.jpeg", "https://images.pexels.com/photos/3610792/pexels-photo-3610792.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project4" target="_blank">Project 4</a></h5>
                    </div>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <div class="row">
                <!-- Large screens: 4 cards per carousel -->
                <div class="col-md-3">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg", "https://images.pexels.com/photos/1575688/pexels-photo-1575688.jpeg", "https://images.pexels.com/photos/462238/pexels-photo-462238.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project5" target="_blank">Project 5</a></h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/226870/pexels-photo-226870.jpeg", "https://images.pexels.com/photos/1575688/pexels-photo-1575688.jpeg", "https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project6" target="_blank">Project 6</a></h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/462238/pexels-photo-462238.jpeg", "https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg", "https://images.pexels.com/photos/226870/pexels-photo-226870.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project7" target="_blank">Project 7</a></h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg", "https://images.pexels.com/photos/226870/pexels-photo-226870.jpeg", "https://images.pexels.com/photos/1575688/pexels-photo-1575688.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project8" target="_blank">Project 8</a></h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselLarge" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselLarge" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<div id="carouselMedium" class="carousel slide d-none d-md-block d-sm-none">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <div class="row">
                <!-- Medium screens: 2 cards per carousel -->
                <div class="col-md-6">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg", "https://images.pexels.com/photos/226870/pexels-photo-226870.jpeg", "https://images.pexels.com/photos/1575688/pexels-photo-1575688.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project1" target="_blank">Project 1</a></h5>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/462238/pexels-photo-462238.jpeg", "https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg", "https://images.pexels.com/photos/226870/pexels-photo-226870.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project2" target="_blank">Project 2</a></h5>
                    </div>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <div class="row">
                <!-- Medium screens: 2 cards per carousel -->
                <div class="col-md-6">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg", "https://images.pexels.com/photos/226870/pexels-photo-226870.jpeg", "https://images.pexels.com/photos/1575688/pexels-photo-1575688.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project3" target="_blank">Project 3</a></h5>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="carousel-card" data-images='["https://images.pexels.com/photos/462238/pexels-photo-462238.jpeg", "https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg", "https://images.pexels.com/photos/226870/pexels-photo-226870.jpeg"]'>
                        <div class="background"></div>
                        <h5><a href="https://example.com/project4" target="_blank">Project 4</a></h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselMedium" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselMedium" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<div id="carouselSmall" class="carousel slide d-sm-block d-md-none">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <!-- Small screens: 1 card per carousel -->
            <div class="carousel-card" data-images='["https://images.pexels.com/photos/462238/pexels-photo-462238.jpeg", "https://images.pexels.com/photos/1247681/pexels-photo-1247681.jpeg", "https://images.pexels.com/photos/226870/pexels-photo-226870.jpeg"]'>
                <div class="background"></div>
                <h5><a href="https://example.com/project1" target="_blank">Project 1</a></h5>
            </div>
        </div>
        <div class="carousel-item">
            <div class="carousel-card" data-images='["https://images.pexels.com/photos/1170981/pexels-photo-1170981.jpeg", "https://images.pexels.com/photos/1396135/pexels-photo-1396135.jpeg", "https://images.pexels.com/photos/1194775/pexels-photo-1194775.jpeg"]'>
                <div class="background"></div>
                <h5><a href="https://example.com/project2" target="_blank">Project 2</a></h5>
            </div>
        </div>
        <div class="carousel-item">
            <div class="carousel-card" data-images='["https://images.pexels.com/photos/280204/pexels-photo-280204.jpeg", "https://images.pexels.com/photos/1205047/pexels-photo-1205047.jpeg", "https://images.pexels.com/photos/1031813/pexels-photo-1031813.jpeg"]'>
                <div class="background"></div>
                <h5><a href="https://example.com/project3" target="_blank">Project 3</a></h5>
            </div>
        </div>
        <div class="carousel-item">
            <div class="carousel-card" data-images='["https://images.pexels.com/photos/3785748/pexels-photo-3785748.jpeg", "https://images.pexels.com/photos/3124167/pexels-photo-3124167.jpeg", "https://images.pexels.com/photos/3610792/pexels-photo-3610792.jpeg"]'>
                <div class="background"></div>
                <h5><a href="https://example.com/project4" target="_blank">Project 4</a></h5>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    // JavaScript for carousel swiping
    const carousels = document.querySelectorAll('.carousel');
    
    carousels.forEach(carousel => {
        const carouselElement = carousel;
        const bsCarousel = new bootstrap.Carousel(carouselElement, {
            interval: false
        });
        
        let touchstartX = 0;
        let touchendX = 0;

        carouselElement.addEventListener('touchstart', e => {
            touchstartX = e.changedTouches[0].screenX;
        });

        carouselElement.addEventListener('touchend', e => {
            touchendX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchendX < touchstartX) {
                bsCarousel.next();
            }

            if (touchendX > touchstartX) {
                bsCarousel.prev();
            }
        }
    });

    // Set up alternating backgrounds for each card
    document.querySelectorAll('.carousel-card').forEach(card => {
        const backgrounds = JSON.parse(card.getAttribute('data-images'));
        let currentBackground = 0;

        function changeBackground() {
            card.querySelector('.background').style.backgroundImage = `url(${backgrounds[currentBackground]})`;
            currentBackground = (currentBackground + 1) % backgrounds.length;
        }

        setInterval(changeBackground, 3000); // Change background every 3 seconds
    });
</script>

</body>
</html>
